# 《编程之美》读书笔记 #

本文记录在阅读《编程之美》时的心得、收获和总结

##1.1 让CPU占用率曲线听你指挥##

###问题描述###

- 使CPU占用曲线保持恒定（例如30%），呈一条直线。

- 令CPU占用曲线呈正弦曲线。

###解决思路###

- 一个程序在运行时，使得CPU闲下来（使用率为0%）的条件是该程序在等待用户输入、或等待某些事件的发生、或主动进入休眠状态（调用`Sleep()`函数）。

- 任务管理器的CPU占用曲线显示的是**每个刷新周期内**CPU占用率的**统计平均值**。

- 因此可以写一个程序，使它在任务管理器的一个刷新周期内一会儿忙，一会儿闲，然后调节忙/闲比例，就可以控制CPU占用曲线为一条特定的直线。

- 需要注意的是，应当在允许的范围内尽量减少sleep/awake（睡眠/唤醒）频率，以减少操作系统内核调度程序的频繁调度对CPU使用率的干扰；并且尽量不要调用系统函数，因为它也会导致不可控的内核运行时间，从而影响CPU使用率。

- 要使CPU占用曲线为正弦曲线，原理也是类似的：根据正弦曲线的函数表达式（`f(x)=sinx`），在特定的时间令CPU忙/闲比例为特定值即可。

##1.2 中国象棋将帅问题##

###问题描述###

中国象棋中“将”、“帅”两子（令“将”为A，“帅”为B）只能在本方3×3的格子里运动，要求写一个程序，输出A、B的所有可能位置组合，并且在代码中只能使用一个字节存储变量。

###解决思路###

- A和B理论上有3×3=9种可能的位置，再除去规则不允许的位置，实际可能的位置要少于9种。

- 在代码中只能使用一个字节来存储两个棋子的位置，可以采用8位的byte类型变量，用变量的前4bit存储A的位置，后4bit存储B的位置，由于4个bit可以表示16个数，因此这样就够用了。

- 延伸：bit级别的操作：
	+ 将一个变量（例如10100101）的右半部分（0101）设为某特定值n（例如0011）。做法是先清除该变量的右半部分（与11110000按位与，将右半部分全部清零），得到10100000；再将该结果与n（00000011）按位或，得到最终结果10100011。

	+ 将一个变量（例如10100101）的左半部分（1010）设为某特定值n（例如0011）。做法是先清除该变量的左半部分（与00001111按位与，将左半部分全部清零），得到00000101；然后将n左移4位，得到00110000；最后将以上两个结果按位或，得到最终结果00110101。

	+ 得到某一变量（例如10100101）的左半部分（1010）或右半部分（0101）。做法是将该变量与00001111进行按位与，得到右半部分（0101）；将该变量与11110000进行按位与，再将其右移4位，得到左半部分（1010）。

##1.3 一摞烙饼的排序##

###问题描述###

对于一摞烙饼，每次只允许翻转上面的一部分（将它们全部颠倒个个儿），求问这样如何将原本无序的烙饼按形状排好序？

###解决思路###

- 基本的解决思想是：首先找到最大的一个饼，将该饼连同其之上的所有饼翻转一次（这样最大的这个饼就被翻到最上面了）；然后把所有的n个烙饼翻转，这样就把最大的烙饼放在最底下了；接着对剩下的n-1个饼重复该过程，就能完成排序了。

- 算法分析：以上算法中，每循环一次该过程，就需要翻转两次（把最大的翻上去，再全部翻转一次），因此一共需要2(n-1)次翻转。

- 算法优化：除了以上翻转策略外，还可以采用动态规划方式考察所有的翻转策略，找出所需翻转次数最少的策略。考察每种策略退出的条件为：烙饼已经完成排序，或者尚未完成排序但翻转次数已经超过2(n-1)了（因为这样就肯定不是最优策略了）。

##1.4 买书问题##

###问题描述###

待补充

###解决思路###

待补充

###背景知识——动态规划###

