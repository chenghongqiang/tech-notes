# 《编程之美》读书笔记（二） #

数字之魅——数字中的技巧

##2.1 求二进制数中1的个数##

###问题描述###

对于一个字节（8bit）的无符号整型变量，求其二进制表示中“1”的个数，要求算法执行效率尽可能的高。

###解决思路###

####解法一####

对于二进制数来说，可以将其**除以2并求余数**来判断末位是0还是1。以10100101为例，第一次除以2时余数为1，说明该位为1；继续除以2，余数为0，说明该位为0。代码如下：

	int Count(BYTE v){
		int num = 0;
		while(v){
			//除以2，判断余数，余数为1则说明末位为1
			if(v % 2 == 1){
				num++;
			}
			//保存商，为下一次循环做准备
			v = v/2;
		}
		return num;
	}

####解法二####

上述解法中的**除以2**操作，在二进制数中可以用**右移一位**来代替。例如对于10100001来说，首先将其与00000001**相与**，结果为1，说明当前末位为1；然后右移一位，继续与00000001相与……。这种解法使用**右移**&**与操作**替代了解法一的**除以2**&**求余**操作。

####解法三####

由于问题仅涵盖8位的整数（0——255之间），因此可以预先将这256个数中“1”的个数存储起来，例如存储到一个长度为256的数组中，在求解时无需计算，直接返回答案。

这种算法是典型的**空间换时间**的思想。

